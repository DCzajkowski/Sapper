import{d as nt}from"../chunks/environment.9aa685ef.js";import{s as Re,d as ke,u as we,g as ye,e as Ce,r as me,k as $e,b as Se,l as Be,c as Ne,o as at,n as oe}from"../chunks/scheduler.3b48bc77.js";import{S as xe,i as He,g,s as E,h as b,j as A,c as O,y as U,f as d,k as M,l as ie,a as I,A as _,B as D,E as et,F as tt,d as Y,t as J,G as Ae,r as Ge,D as it,u as Ve,v as je,b as lt,w as ze,p as st,e as Te,m as P,n as q,o as ae,H as ot,C as rt}from"../chunks/index.e543c91d.js";import{e as Me}from"../chunks/each.e139ce12.js";import{s as Ie,a as he,t as Pe,f as De}from"../chunks/stores.51db46f6.js";import{p as ct}from"../chunks/stores.78b0b726.js";import"../chunks/singletons.9da193b5.js";import{g as de}from"../chunks/navigation.a73baae4.js";const ut=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,ft=nt,_t=!1,qt=Object.freeze(Object.defineProperty({__proto__:null,csr:ft,prerender:_t},Symbol.toStringTag,{value:"Module"}));const dt=l=>({}),qe=l=>({});function ht(l){let e,t,o,s,n,u,r,p,i,c,y='<a href="/" style="text-decoration: none; color: inherit;">Exit the game</a>',T,f,z="Go Back!",C,v,L;const R=l[3].header,k=ke(R,l,l[2],qe),V=l[3].default,w=ke(V,l,l[2],null);return{c(){e=g("dialog"),t=g("div"),k&&k.c(),o=E(),s=g("hr"),n=E(),w&&w.c(),u=E(),r=g("hr"),p=E(),i=g("div"),c=g("button"),c.innerHTML=y,T=E(),f=g("button"),f.textContent=z,this.h()},l(a){e=b(a,"DIALOG",{class:!0});var m=A(e);t=b(m,"DIV",{class:!0});var S=A(t);k&&k.l(S),o=O(S),s=b(S,"HR",{}),n=O(S),w&&w.l(S),u=O(S),r=b(S,"HR",{}),p=O(S),i=b(S,"DIV",{style:!0});var B=A(i);c=b(B,"BUTTON",{class:!0,"data-svelte-h":!0}),U(c)!=="svelte-1goync1"&&(c.innerHTML=y),T=O(B),f=b(B,"BUTTON",{class:!0,"data-svelte-h":!0}),U(f)!=="svelte-825fd8"&&(f.textContent=z),B.forEach(d),S.forEach(d),m.forEach(d),this.h()},h(){c.autofocus=!0,M(c,"class","svelte-iqe50v"),f.autofocus=!0,M(f,"class","svelte-iqe50v"),ie(i,"display","flex"),ie(i,"justify-content","space-between"),M(t,"class","svelte-iqe50v"),M(e,"class","svelte-iqe50v")},m(a,m){I(a,e,m),_(e,t),k&&k.m(t,null),_(t,o),_(t,s),_(t,n),w&&w.m(t,null),_(t,u),_(t,r),_(t,p),_(t,i),_(i,c),_(i,T),_(i,f),l[7](e),C=!0,f.focus(),v||(L=[D(c,"click",l[5]),D(f,"click",l[6]),D(t,"click",et(l[4])),D(e,"close",l[8]),D(e,"click",tt(l[9]))],v=!0)},p(a,[m]){k&&k.p&&(!C||m&4)&&we(k,R,a,a[2],C?Ce(R,a[2],m,dt):ye(a[2]),qe),w&&w.p&&(!C||m&4)&&we(w,V,a,a[2],C?Ce(V,a[2],m,null):ye(a[2]),null)},i(a){C||(Y(k,a),Y(w,a),C=!0)},o(a){J(k,a),J(w,a),C=!1},d(a){a&&d(e),k&&k.d(a),w&&w.d(a),l[7](null),v=!1,me(L)}}}function mt(l,e,t){let{$$slots:o={},$$scope:s}=e,{showModal_value:n=!1}=e,u;function r(f){$e.call(this,l,f)}const p=()=>Ie.update(()=>!1),i=()=>u.close();function c(f){Se[f?"unshift":"push"](()=>{u=f,t(0,u)})}const y=()=>Ie.update(()=>!1),T=()=>u.close();return l.$$set=f=>{"showModal_value"in f&&t(1,n=f.showModal_value),"$$scope"in f&&t(2,s=f.$$scope)},l.$$.update=()=>{l.$$.dirty&3&&u&&n&&u.showModal()},[u,n,s,o,r,p,i,c,y,T]}class pt extends xe{constructor(e){super(),He(this,e,mt,ht,Re,{showModal_value:1})}}const vt=l=>({}),Fe=l=>({});function gt(l){let e,t,o,s,n,u,r,p,i,c,y='<a href="/" style="text-decoration: none; color: inherit;">Exit the game</a>',T,f,z="View Board Again",C,v,L;const R=l[3].header,k=ke(R,l,l[2],Fe),V=l[3].default,w=ke(V,l,l[2],null);return{c(){e=g("dialog"),t=g("div"),k&&k.c(),o=E(),s=g("hr"),n=E(),w&&w.c(),u=E(),r=g("hr"),p=E(),i=g("div"),c=g("button"),c.innerHTML=y,T=E(),f=g("button"),f.textContent=z,this.h()},l(a){e=b(a,"DIALOG",{class:!0});var m=A(e);t=b(m,"DIV",{class:!0});var S=A(t);k&&k.l(S),o=O(S),s=b(S,"HR",{}),n=O(S),w&&w.l(S),u=O(S),r=b(S,"HR",{}),p=O(S),i=b(S,"DIV",{style:!0});var B=A(i);c=b(B,"BUTTON",{class:!0,"data-svelte-h":!0}),U(c)!=="svelte-1u6htj5"&&(c.innerHTML=y),T=O(B),f=b(B,"BUTTON",{class:!0,"data-svelte-h":!0}),U(f)!=="svelte-lq1e7m"&&(f.textContent=z),B.forEach(d),S.forEach(d),m.forEach(d),this.h()},h(){c.autofocus=!0,M(c,"class","custom_button1 svelte-1xbwco"),f.autofocus=!0,M(f,"class","custom_button2 svelte-1xbwco"),ie(i,"display","flex"),ie(i,"justify-content","space-between"),M(t,"class","svelte-1xbwco"),M(e,"class","svelte-1xbwco")},m(a,m){I(a,e,m),_(e,t),k&&k.m(t,null),_(t,o),_(t,s),_(t,n),w&&w.m(t,null),_(t,u),_(t,r),_(t,p),_(t,i),_(i,c),_(i,T),_(i,f),l[7](e),C=!0,f.focus(),v||(L=[D(c,"click",l[5]),D(f,"click",l[6]),D(t,"click",et(l[4])),D(e,"close",l[8]),D(e,"click",tt(l[9]))],v=!0)},p(a,[m]){k&&k.p&&(!C||m&4)&&we(k,R,a,a[2],C?Ce(R,a[2],m,vt):ye(a[2]),Fe),w&&w.p&&(!C||m&4)&&we(w,V,a,a[2],C?Ce(V,a[2],m,null):ye(a[2]),null)},i(a){C||(Y(k,a),Y(w,a),C=!0)},o(a){J(k,a),J(w,a),C=!1},d(a){a&&d(e),k&&k.d(a),w&&w.d(a),l[7](null),v=!1,me(L)}}}function bt(l,e,t){let{$$slots:o={},$$scope:s}=e,{showModal_value2:n=!1}=e,u;function r(f){$e.call(this,l,f)}const p=()=>he.update(()=>!1),i=()=>u.close();function c(f){Se[f?"unshift":"push"](()=>{u=f,t(0,u)})}const y=()=>he.update(()=>!1),T=()=>u.close();return l.$$set=f=>{"showModal_value2"in f&&t(1,n=f.showModal_value2),"$$scope"in f&&t(2,s=f.$$scope)},l.$$.update=()=>{l.$$.dirty&3&&u&&n&&u.showModal()},[u,n,s,o,r,p,i,c,y,T]}class kt extends xe{constructor(e){super(),He(this,e,bt,gt,Re,{showModal_value2:1})}}const{document:Le,window:wt}=ut;function We(l,e,t){const o=l.slice();return o[37]=e[t],o[39]=t,o}function Ye(l,e,t){const o=l.slice();return o[37]=e[t],o[41]=t,o}function yt(l){let e,t,o,s,n;const u=[Tt,St],r=[];function p(c,y){return c[6]?1:0}e=p(l),t=r[e]=u[e](l);let i=(l[8]||l[9])&&Qe(l);return{c(){t.c(),o=E(),i&&i.c(),s=Te()},l(c){t.l(c),o=O(c),i&&i.l(c),s=Te()},m(c,y){r[e].m(c,y),I(c,o,y),i&&i.m(c,y),I(c,s,y),n=!0},p(c,y){let T=e;e=p(c),e===T?r[e].p(c,y):(st(),J(r[T],1,1,()=>{r[T]=null}),lt(),t=r[e],t?t.p(c,y):(t=r[e]=u[e](c),t.c()),Y(t,1),t.m(o.parentNode,o)),c[8]||c[9]?i||(i=Qe(c),i.c(),i.m(s.parentNode,s)):i&&(i.d(1),i=null)},i(c){n||(Y(t),n=!0)},o(c){J(t),n=!1},d(c){c&&(d(o),d(s)),r[e].d(c),i&&i.d(c)}}}function Ct(l){let e,t="Choose game difficulty to start the game!",o,s,n,u,r,p,i,c,y="10 mines",T,f,z="20 mines",C,v,L="30 mines",R,k,V="50 mines",w,a,m,S,B,$,ne,re,F,X,pe="10x10",ce,K,ve="20x20",ue,Q,ge="30x30",fe,h,H="50x50",W,x,se="",ee,G,Z="START THE GAME!",Ee,Ue;return{c(){e=g("h1"),e.textContent=t,o=E(),s=g("div"),n=g("p"),u=P("Mines: "),r=P(l[5]),p=E(),i=g("div"),c=g("button"),c.textContent=y,T=E(),f=g("button"),f.textContent=z,C=E(),v=g("button"),v.textContent=L,R=E(),k=g("button"),k.textContent=V,w=E(),a=g("div"),m=g("p"),S=P("Field: "),B=P(l[4]),$=P("x"),ne=P(l[3]),re=E(),F=g("div"),X=g("button"),X.textContent=pe,ce=E(),K=g("button"),K.textContent=ve,ue=E(),Q=g("button"),Q.textContent=ge,fe=E(),h=g("button"),h.textContent=H,W=E(),x=g("p"),x.innerHTML=se,ee=E(),G=g("button"),G.textContent=Z,this.h()},l(N){e=b(N,"H1",{"data-svelte-h":!0}),U(e)!=="svelte-4czae5"&&(e.textContent=t),o=O(N),s=b(N,"DIV",{class:!0});var j=A(s);n=b(j,"P",{});var Oe=A(n);u=q(Oe,"Mines: "),r=q(Oe,l[5]),Oe.forEach(d),p=O(j),i=b(j,"DIV",{class:!0});var te=A(i);c=b(te,"BUTTON",{class:!0,"data-svelte-h":!0}),U(c)!=="svelte-19kolcr"&&(c.textContent=y),T=O(te),f=b(te,"BUTTON",{class:!0,"data-svelte-h":!0}),U(f)!=="svelte-14zde7x"&&(f.textContent=z),C=O(te),v=b(te,"BUTTON",{class:!0,"data-svelte-h":!0}),U(v)!=="svelte-1vlxxnf"&&(v.textContent=L),R=O(te),k=b(te,"BUTTON",{class:!0,"data-svelte-h":!0}),U(k)!=="svelte-4of94z"&&(k.textContent=V),te.forEach(d),j.forEach(d),w=O(N),a=b(N,"DIV",{class:!0});var be=A(a);m=b(be,"P",{});var _e=A(m);S=q(_e,"Field: "),B=q(_e,l[4]),$=q(_e,"x"),ne=q(_e,l[3]),_e.forEach(d),re=O(be),F=b(be,"DIV",{class:!0});var le=A(F);X=b(le,"BUTTON",{class:!0,"data-svelte-h":!0}),U(X)!=="svelte-1g7v75r"&&(X.textContent=pe),ce=O(le),K=b(le,"BUTTON",{class:!0,"data-svelte-h":!0}),U(K)!=="svelte-guc8hh"&&(K.textContent=ve),ue=O(le),Q=b(le,"BUTTON",{class:!0,"data-svelte-h":!0}),U(Q)!=="svelte-ovr6f3"&&(Q.textContent=ge),fe=O(le),h=b(le,"BUTTON",{class:!0,"data-svelte-h":!0}),U(h)!=="svelte-vmy4qn"&&(h.textContent=H),le.forEach(d),be.forEach(d),W=O(N),x=b(N,"P",{"data-svelte-h":!0}),U(x)!=="svelte-1cfqa3s"&&(x.innerHTML=se),ee=O(N),G=b(N,"BUTTON",{class:!0,"data-svelte-h":!0}),U(G)!=="svelte-1gx54c6"&&(G.textContent=Z),this.h()},h(){M(c,"class","custom_button1 mines svelte-vdwwxg"),M(f,"class","custom_button1 mines svelte-vdwwxg"),M(v,"class","custom_button1 mines svelte-vdwwxg"),M(k,"class","custom_button1 mines svelte-vdwwxg"),M(i,"class","button-container svelte-vdwwxg"),M(s,"class","svelte-vdwwxg"),M(X,"class","custom_button1 field svelte-vdwwxg"),M(K,"class","custom_button1 field svelte-vdwwxg"),M(Q,"class","custom_button1 field svelte-vdwwxg"),M(h,"class","custom_button1 field svelte-vdwwxg"),M(F,"class","button-container svelte-vdwwxg"),M(a,"class","svelte-vdwwxg"),M(G,"class","custom_button1 svelte-vdwwxg")},m(N,j){I(N,e,j),I(N,o,j),I(N,s,j),_(s,n),_(n,u),_(n,r),_(s,p),_(s,i),_(i,c),_(i,T),_(i,f),_(i,C),_(i,v),_(i,R),_(i,k),I(N,w,j),I(N,a,j),_(a,m),_(m,S),_(m,B),_(m,$),_(m,ne),_(a,re),_(a,F),_(F,X),_(F,ce),_(F,K),_(F,ue),_(F,Q),_(F,fe),_(F,h),I(N,W,j),I(N,x,j),I(N,ee,j),I(N,G,j),Ee||(Ue=[D(c,"click",l[17]),D(f,"click",l[18]),D(v,"click",l[19]),D(k,"click",l[20]),D(X,"click",l[21]),D(K,"click",l[22]),D(Q,"click",l[23]),D(h,"click",l[24]),D(G,"click",l[25])],Ee=!0)},p(N,j){j[0]&32&&ae(r,N[5]),j[0]&16&&ae(B,N[4]),j[0]&8&&ae(ne,N[3])},i:oe,o:oe,d(N){N&&(d(e),d(o),d(s),d(w),d(a),d(W),d(x),d(ee),d(G)),Ee=!1,me(Ue)}}}function St(l){let e,t,o,s=xt,n=Me(Array(l[3])),u=[];for(let r=0;r<n.length;r+=1)u[r]=Ke(We(l,n,r));return{c(){e=E(),t=g("div");for(let r=0;r<u.length;r+=1)u[r].c();this.h()},l(r){e=O(r),t=b(r,"DIV",{class:!0});var p=A(t);for(let i=0;i<u.length;i+=1)u[i].l(p);p.forEach(d),this.h()},h(){M(t,"class","sapper_table svelte-vdwwxg")},m(r,p){I(r,e,p),I(r,t,p);for(let i=0;i<u.length;i+=1)u[i]&&u[i].m(t,null);o=!0},p(r,p){if(p[0]&12440){n=Me(Array(r[3]));let i;for(i=0;i<n.length;i+=1){const c=We(r,n,i);u[i]?u[i].p(c,p):(u[i]=Ke(c),u[i].c(),u[i].m(t,null))}for(;i<u.length;i+=1)u[i].d(1);u.length=n.length}},i(r){o||(Y(s),o=!0)},o(r){J(s),o=!1},d(r){r&&(d(e),d(t)),ot(u,r)}}}function Tt(l){let e,t="Creating a new game...";return{c(){e=g("h1"),e.textContent=t},l(o){e=b(o,"H1",{"data-svelte-h":!0}),U(e)!=="svelte-1vbizca"&&(e.textContent=t)},m(o,s){I(o,e,s)},p:oe,i:oe,o:oe,d(o){o&&d(e)}}}function Je(l){let e,t,o="",s,n;function u(){return l[26](l[41],l[39])}function r(...i){return l[27](l[41],l[39],...i)}function p(){return l[28](l[41],l[39])}return{c(){e=g("div"),t=g("div"),t.innerHTML=o,this.h()},l(i){e=b(i,"DIV",{class:!0,style:!0});var c=A(e);t=b(c,"DIV",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-1wept3m"&&(t.innerHTML=o),c.forEach(d),this.h()},h(){M(t,"class","sapper_tile_content svelte-vdwwxg"),M(e,"class","sapper_tile svelte-vdwwxg"),ie(e,"background-image","url('/src/lib/images/"+l[7][(l[4]*l[39]+l[41]).toString()]+".svg')")},m(i,c){I(i,e,c),_(e,t),s||(n=[D(e,"click",u),D(e,"keypress",r),D(e,"contextmenu",rt(p))],s=!0)},p(i,c){l=i,c[0]&144&&ie(e,"background-image","url('/src/lib/images/"+l[7][(l[4]*l[39]+l[41]).toString()]+".svg')")},d(i){i&&d(e),s=!1,me(n)}}}function Xe(l){let e=l[7][(l[4]*l[39]+l[41]).toString()]!==null,t,o=e&&Je(l);return{c(){o&&o.c(),t=Te()},l(s){o&&o.l(s),t=Te()},m(s,n){o&&o.m(s,n),I(s,t,n)},p(s,n){n[0]&144&&(e=s[7][(s[4]*s[39]+s[41]).toString()]!==null),e?o?o.p(s,n):(o=Je(s),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},d(s){s&&d(t),o&&o.d(s)}}}function Ke(l){let e,t,o=Me(Array(l[4])),s=[];for(let n=0;n<o.length;n+=1)s[n]=Xe(Ye(l,o,n));return{c(){e=g("div");for(let n=0;n<s.length;n+=1)s[n].c();t=E(),this.h()},l(n){e=b(n,"DIV",{class:!0});var u=A(e);for(let r=0;r<s.length;r+=1)s[r].l(u);t=O(u),u.forEach(d),this.h()},h(){M(e,"class","sapper_row svelte-vdwwxg")},m(n,u){I(n,e,u);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);_(e,t)},p(n,u){if(u[0]&12432){o=Me(Array(n[4]));let r;for(r=0;r<o.length;r+=1){const p=Ye(n,o,r);s[r]?s[r].p(p,u):(s[r]=Xe(p),s[r].c(),s[r].m(e,t))}for(;r<s.length;r+=1)s[r].d(1);s.length=o.length}},d(n){n&&d(e),ot(s,n)}}}function Qe(l){let e,t="Continue",o,s;return{c(){e=g("button"),e.textContent=t,this.h()},l(n){e=b(n,"BUTTON",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1x4dc6d"&&(e.textContent=t),this.h()},h(){M(e,"class","custom_button1 svelte-vdwwxg")},m(n,u){I(n,e,u),o||(s=D(e,"click",l[29]),o=!0)},d(n){n&&d(e),o=!1,s()}}}function Mt(l){let e,t="<p>Are you sure you want to exit the game?</p> <p>(Your game will not be saved and will count as loss)</p>";return{c(){e=g("ol"),e.innerHTML=t,this.h()},l(o){e=b(o,"OL",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-ppev9z"&&(e.innerHTML=t),this.h()},h(){M(e,"class","definition-list")},m(o,s){I(o,e,s)},p:oe,d(o){o&&d(e)}}}function It(l){let e,t="Exit Menu";return{c(){e=g("h2"),e.textContent=t,this.h()},l(o){e=b(o,"H2",{slot:!0,"data-svelte-h":!0}),U(e)!=="svelte-n5ryyx"&&(e.textContent=t),this.h()},h(){M(e,"slot","header")},m(o,s){I(o,e,s)},p:oe,d(o){o&&d(e)}}}function Et(l){let e,t,o,s,n,u,r,p,i,c,y,T,f,z="Exp: Null";return{c(){e=g("ol"),t=g("p"),o=P("Map Size: "),s=P(l[4]),n=P("x"),u=P(l[3]),r=E(),p=g("p"),i=P("Difficulty: "),c=P(l[5]),y=P(" mines"),T=E(),f=g("p"),f.textContent=z,this.h()},l(C){e=b(C,"OL",{class:!0});var v=A(e);t=b(v,"P",{});var L=A(t);o=q(L,"Map Size: "),s=q(L,l[4]),n=q(L,"x"),u=q(L,l[3]),L.forEach(d),r=O(v),p=b(v,"P",{});var R=A(p);i=q(R,"Difficulty: "),c=q(R,l[5]),y=q(R," mines"),R.forEach(d),T=O(v),f=b(v,"P",{"data-svelte-h":!0}),U(f)!=="svelte-5t97dw"&&(f.textContent=z),v.forEach(d),this.h()},h(){M(e,"class","definition-list")},m(C,v){I(C,e,v),_(e,t),_(t,o),_(t,s),_(t,n),_(t,u),_(e,r),_(e,p),_(p,i),_(p,c),_(p,y),_(e,T),_(e,f)},p(C,v){v[0]&16&&ae(s,C[4]),v[0]&8&&ae(u,C[3]),v[0]&32&&ae(c,C[5])},d(C){C&&d(e)}}}function Ot(l){let e;return{c(){e=P("Why are you here!?")},l(t){e=q(t,"Why are you here!?")},m(t,o){I(t,e,o)},d(t){t&&d(e)}}}function Nt(l){let e;return{c(){e=P("Congratulations you LOST xd!")},l(t){e=q(t,"Congratulations you LOST xd!")},m(t,o){I(t,e,o)},d(t){t&&d(e)}}}function Dt(l){let e;return{c(){e=P("Congratulations you WON!")},l(t){e=q(t,"Congratulations you WON!")},m(t,o){I(t,e,o)},d(t){t&&d(e)}}}function Lt(l){let e;function t(n,u){return n[8]?Dt:n[9]?Nt:Ot}let o=t(l),s=o(l);return{c(){e=g("h2"),s.c(),this.h()},l(n){e=b(n,"H2",{slot:!0});var u=A(e);s.l(u),u.forEach(d),this.h()},h(){M(e,"slot","header")},m(n,u){I(n,e,u),s.m(e,null)},p(n,u){o!==(o=t(n))&&(s.d(1),s=o(n),s&&(s.c(),s.m(e,null)))},d(n){n&&d(e),s.d()}}}function Rt(l){let e,t,o,s,n,u,r,p,i,c,y,T,f,z;const C=[Ct,yt],v=[];function L(a,m){return a[10].url.hash=="#start"?0:a[10].url.hash=="#sapper"?1:-1}~(s=L(l))&&(n=v[s]=C[s](l));function R(a){l[31](a)}let k={$$slots:{header:[It],default:[Mt]},$$scope:{ctx:l}};l[1]!==void 0&&(k.showModal_value=l[1]),r=new pt({props:k}),Se.push(()=>Ae(r,"showModal_value",R));function V(a){l[32](a)}let w={$$slots:{header:[Lt],default:[Et]},$$scope:{ctx:l}};return l[2]!==void 0&&(w.showModal_value2=l[2]),c=new kt({props:w}),Se.push(()=>Ae(c,"showModal_value2",V)),{c(){e=g("meta"),t=E(),o=g("div"),n&&n.c(),u=E(),Ge(r.$$.fragment),i=E(),Ge(c.$$.fragment),this.h()},l(a){const m=it("svelte-n20kvx",Le.head);e=b(m,"META",{name:!0,content:!0}),m.forEach(d),t=O(a),o=b(a,"DIV",{class:!0});var S=A(o);n&&n.l(S),S.forEach(d),u=O(a),Ve(r.$$.fragment,a),i=O(a),Ve(c.$$.fragment,a),this.h()},h(){Le.title="Game",M(e,"name","description"),M(e,"content","About this app"),M(o,"class","text-column svelte-vdwwxg")},m(a,m){_(Le.head,e),I(a,t,m),I(a,o,m),~s&&v[s].m(o,null),I(a,u,m),je(r,a,m),I(a,i,m),je(c,a,m),T=!0,f||(z=[D(wt,"beforeunload",l[11]),D(o,"mousemove",l[30])],f=!0)},p(a,m){let S=s;s=L(a),s===S?~s&&v[s].p(a,m):(n&&(st(),J(v[S],1,1,()=>{v[S]=null}),lt()),~s?(n=v[s],n?n.p(a,m):(n=v[s]=C[s](a),n.c()),Y(n,1),n.m(o,null)):n=null);const B={};m[1]&2048&&(B.$$scope={dirty:m,ctx:a}),!p&&m[0]&2&&(p=!0,B.showModal_value=a[1],Be(()=>p=!1)),r.$set(B);const $={};m[0]&824|m[1]&2048&&($.$$scope={dirty:m,ctx:a}),!y&&m[0]&4&&(y=!0,$.showModal_value2=a[2],Be(()=>y=!1)),c.$set($)},i(a){T||(Y(n),Y(r.$$.fragment,a),Y(c.$$.fragment,a),T=!0)},o(a){J(n),J(r.$$.fragment,a),J(c.$$.fragment,a),T=!1},d(a){a&&(d(t),d(o),d(u),d(i)),d(e),~s&&v[s].d(),ze(r,a),ze(c,a),f=!1,me(z)}}}let xt=!1;function Ze(l){document.querySelectorAll(l).forEach(t=>t.classList.remove("clicked"))}function Ht(l,e,t){let o,s,n;Ne(l,De,h=>t(34,o=h)),Ne(l,Pe,h=>t(35,s=h)),Ne(l,ct,h=>t(10,n=h));let u={x:0,y:0},r;Ie.subscribe(h=>{t(1,r=h)});let p;he.subscribe(h=>{t(2,p=h)});function i(){Ie.update(()=>!1),he.update(()=>!1)}let c=50,y=50,T=20,f=0;at(()=>{t(3,c=parseInt(localStorage.getItem("max_y"))||50),t(4,y=parseInt(localStorage.getItem("max_x"))||50),t(5,T=parseInt(localStorage.getItem("mines"))||20),t(6,f=parseInt(localStorage.getItem("gameStarted"))||0),t(8,w=parseInt(localStorage.getItem("is_won"))||0),t(9,a=parseInt(localStorage.getItem("is_loss"))||0),localStorage.getItem("session_id")||(console.log("ERROR USER IS NOT LOGGED IN!"),de("/login"))});async function z(h,H){if(!localStorage.getItem("session_id")){console.log("ERROR USER IS NOT LOGGED IN!"),de("/login");return}let x=(y*H+h).toString();if(v[x]>-1){console.log("tile already clicked");return}if(L[x]===!1){L[x]=!0,t(7,v[x]=-2,v);return}if(L[x]===!0){L[x]=!1,t(7,v[x]=-1,v);return}}async function C(h,H){let W=localStorage.getItem("session_id");if(!W){console.log("ERROR USER IS NOT LOGGED IN!"),de("/login");return}let x=(y*H+h).toString();if(console.log(`tile ${x} clicked`),v[x]>-1){console.log("tile already clicked");return}if(v[x]===-2){console.log("tile flagged");return}const G=await(await fetch("https://sapperapi.malpkakefirek.repl.co/click_tile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tile_id:x,session_id:W})})).json();if(G.type==="playing")for(let Z=0;Z<c*y;Z++)L[Z.toString()]===!0&&(G.board[Z.toString()]===-1&&(G.board[Z.toString()]=-2),G.board[Z.toString()]>-1&&(L[Z.toString()]=!1));if(console.log(G),G.type!=="fail"&&t(7,v=G.board),G.type==="win"){console.log("Congratulations! You won!"),t(8,w=!0),localStorage.setItem("is_won",1);return}if(G.type==="loss"){console.log("I'm sorry, you lost!"),t(9,a=!0),localStorage.setItem("is_loss",1);return}}for(let h=0;h<c*y;h++)Pe.update(H=>(H[h.toString()]=-1,H)),De.update(H=>(H[h.toString()]=!1,H));let v=s,L=o;function R(h,H){t(4,y=h),t(3,c=H),Ze(".custom_button1.field"),event.target.classList.add("clicked"),localStorage.setItem("max_x",h),localStorage.setItem("max_y",H)}async function k(){let h=localStorage.getItem("session_id");if(!h){console.log("ERROR USER IS NOT LOGGED IN!"),de("/login");return}window.location.hash="sapper";for(let se=0;se<c*y;se++)De.update(ee=>(ee[se.toString()]=!1,ee));const x=await(await fetch("https://sapperapi.malpkakefirek.repl.co/create_game",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:h,size_x:y,size_y:c,mine_count:T})})).json();if(console.log(x),x.type!=="success"){de("/game");return}t(8,w=0),t(9,a=0),localStorage.setItem("is_won",0),localStorage.setItem("is_loss",0),t(6,f=1),localStorage.setItem("gameStarted",1)}function V(h){t(5,T=h),Ze(".custom_button1.mines"),event.target.classList.add("clicked"),localStorage.setItem("mines",h)}let w=!1,a=!1;const m=()=>V(10),S=()=>V(20),B=()=>V(30),$=()=>V(50),ne=()=>R(10,10),re=()=>R(20,20),F=()=>R(30,30),X=()=>R(50,50),pe=()=>k(),ce=(h,H)=>C(h,H),K=(h,H,W)=>{W.key==="Enter"&&C(h,H)},ve=(h,H)=>z(h,H),ue=()=>he.update(h=>!h),Q=h=>t(0,u={x:h.clientX,y:h.clientY});function ge(h){r=h,t(1,r)}function fe(h){p=h,t(2,p)}return[u,r,p,c,y,T,f,v,w,a,n,i,z,C,R,k,V,m,S,B,$,ne,re,F,X,pe,ce,K,ve,ue,Q,ge,fe]}class Ft extends xe{constructor(e){super(),He(this,e,Ht,Rt,Re,{},null,[-1,-1])}}export{Ft as component,qt as universal};
