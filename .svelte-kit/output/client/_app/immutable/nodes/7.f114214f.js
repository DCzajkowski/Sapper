import{d as u}from"../chunks/environment.9aa685ef.js";import{s as h,n as r,o as _}from"../chunks/scheduler.3b48bc77.js";import{S as f,i as g,g as i,s as y,D as v,h as l,f as n,c as S,j,k as p,A as E,a as m}from"../chunks/index.e543c91d.js";import{g as d}from"../chunks/navigation.a73baae4.js";const b=u,k=!0,M=Object.freeze(Object.defineProperty({__proto__:null,csr:b,prerender:k},Symbol.toStringTag,{value:"Module"}));function w(c){let e,s,o;return{c(){e=i("meta"),s=y(),o=i("pre"),this.h()},l(t){const a=v("svelte-12vc813",document.head);e=l(a,"META",{name:!0,content:!0}),a.forEach(n),s=S(t),o=l(t,"PRE",{}),j(o).forEach(n),this.h()},h(){document.title="Logout",p(e,"name","description"),p(e,"content","Logout from the app")},m(t,a){E(document.head,e),m(t,s,a),m(t,o,a)},p:r,i:r,o:r,d(t){t&&(n(s),n(o)),n(e)}}}function I(c){return _(async()=>{let e=localStorage.getItem("session_id");if(!e){await d("/"),location.reload();return}let s=e;try{const t=await(await fetch("https://sapperapi.malpkakefirek.repl.co/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:s})})).json();console.log(t),t.type==="success"&&(localStorage.removeItem("session_id"),localStorage.removeItem("username"),await d("/"))}catch(o){console.error("Error fetching data:",o)}}),[]}class A extends f{constructor(e){super(),g(this,e,I,w,h,{})}}export{A as component,M as universal};
